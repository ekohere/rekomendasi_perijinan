/*
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.3.1
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(a){var b=function(g,l){var g=a(g);var k=this;var f='li:has([data-toggle="tab"])';var h=[];var e=a.extend({},a.fn.bootstrapWizard.defaults,l);var c=null;var d=null;this.rebindClick=function(n,m){n.unbind("click",m).bind("click",m)};this.fixNavigationButtons=function(){if(!c.length){d.find("a:first").tab("show");c=d.find(f+":first")}a(e.previousSelector,g).toggleClass("disabled",(k.firstIndex()>=k.currentIndex()));a(e.nextSelector,g).toggleClass("disabled",(k.currentIndex()>=k.navigationLength()));a(e.nextSelector,g).toggleClass("hidden",(k.currentIndex()>=k.navigationLength()&&a(e.finishSelector,g).length>0));a(e.lastSelector,g).toggleClass("hidden",(k.currentIndex()>=k.navigationLength()&&a(e.finishSelector,g).length>0));a(e.finishSelector,g).toggleClass("hidden",(k.currentIndex()<k.navigationLength()));a(e.backSelector,g).toggleClass("disabled",(h.length==0));a(e.backSelector,g).toggleClass("hidden",(k.currentIndex()>=k.navigationLength()&&a(e.finishSelector,g).length>0));k.rebindClick(a(e.nextSelector,g),k.next);k.rebindClick(a(e.previousSelector,g),k.previous);k.rebindClick(a(e.lastSelector,g),k.last);k.rebindClick(a(e.firstSelector,g),k.first);k.rebindClick(a(e.finishSelector,g),k.finish);k.rebindClick(a(e.backSelector,g),k.back);if(e.onTabShow&&typeof e.onTabShow==="function"&&e.onTabShow(c,d,k.currentIndex())===false){return false}};this.next=function(n){if(g.hasClass("last")){return false}if(e.onNext&&typeof e.onNext==="function"&&e.onNext(c,d,k.nextIndex())===false){return false}var o=k.currentIndex();var m=k.nextIndex();if(m>k.navigationLength()){}else{h.push(o);d.find(f+(e.withVisible?":visible":"")+":eq("+m+") a").tab("show")}};this.previous=function(n){if(g.hasClass("first")){return false}if(e.onPrevious&&typeof e.onPrevious==="function"&&e.onPrevious(c,d,k.previousIndex())===false){return false}var o=k.currentIndex();var m=k.previousIndex();if(m<0){}else{h.push(o);d.find(f+(e.withVisible?":visible":"")+":eq("+m+") a").tab("show")}};this.first=function(m){if(e.onFirst&&typeof e.onFirst==="function"&&e.onFirst(c,d,k.firstIndex())===false){return false}if(g.hasClass("disabled")){return false}h.push(k.currentIndex());d.find(f+":eq(0) a").tab("show")};this.last=function(m){if(e.onLast&&typeof e.onLast==="function"&&e.onLast(c,d,k.lastIndex())===false){return false}if(g.hasClass("disabled")){return false}h.push(k.currentIndex());d.find(f+":eq("+k.navigationLength()+") a").tab("show")};this.finish=function(m){if(e.onFinish&&typeof e.onFinish==="function"){e.onFinish(c,d,k.lastIndex())}};this.back=function(){if(h.length==0){return null}var m=h.pop();if(e.onBack&&typeof e.onBack==="function"&&e.onBack(c,d,m)===false){h.push(m);return false}g.find(f+":eq("+m+") a").tab("show")};this.currentIndex=function(){return d.find(f).index(c)};this.firstIndex=function(){return 0};this.lastIndex=function(){return k.navigationLength()};this.getIndex=function(m){return d.find(f).index(m)};this.nextIndex=function(){return d.find(f).index(c)+1};this.previousIndex=function(){return d.find(f).index(c)-1};this.navigationLength=function(){return d.find(f).length-1};this.activeTab=function(){return c};this.nextTab=function(){return d.find(f+":eq("+(k.currentIndex()+1)+")").length?d.find(f+":eq("+(k.currentIndex()+1)+")"):null};this.previousTab=function(){if(k.currentIndex()<=0){return null}return d.find(f+":eq("+parseInt(k.currentIndex()-1)+")")};this.show=function(m){var n=isNaN(m)?g.find(f+" a[href=#"+m+"]"):g.find(f+":eq("+m+") a");if(n.length>0){h.push(k.currentIndex());n.tab("show")}};this.disable=function(m){d.find(f+":eq("+m+")").addClass("disabled")};this.enable=function(m){d.find(f+":eq("+m+")").removeClass("disabled")};this.hide=function(m){d.find(f+":eq("+m+")").hide()};this.display=function(m){d.find(f+":eq("+m+")").show()};this.remove=function(q){var n=q[0];var p=typeof q[1]!="undefined"?q[1]:false;var o=d.find(f+":eq("+n+")");if(p){var m=o.find("a").attr("href");a(m).remove()}o.remove()};var i=function(p){var n=d.find(f);var o=n.index(a(p.currentTarget).parent(f));var m=a(n[o]);if(e.onTabClick&&typeof e.onTabClick==="function"&&e.onTabClick(c,d,k.currentIndex(),o,m)===false){return false}};var j=function(n){var m=a(n.target).parent();var o=d.find(f).index(m);if(m.hasClass("disabled")){return false}if(e.onTabChange&&typeof e.onTabChange==="function"&&e.onTabChange(c,d,k.currentIndex(),o)===false){return false}c=m;k.fixNavigationButtons()};this.resetWizard=function(){a('a[data-toggle="tab"]',d).off("click",i);a('a[data-toggle="tab"]',d).off("shown shown.bs.tab",j);d=g.find("ul:first",g);c=d.find(f+".active",g);a('a[data-toggle="tab"]',d).on("click",i);a('a[data-toggle="tab"]',d).on("shown shown.bs.tab",j);k.fixNavigationButtons()};d=g.find("ul:first",g);c=d.find(f+".active",g);if(!d.hasClass(e.tabClass)){d.addClass(e.tabClass)}if(e.onInit&&typeof e.onInit==="function"){e.onInit(c,d,0)}if(e.onShow&&typeof e.onShow==="function"){e.onShow(c,d,k.nextIndex())}a('a[data-toggle="tab"]',d).on("click",i);a('a[data-toggle="tab"]',d).on("shown shown.bs.tab",j)};a.fn.bootstrapWizard=function(d){if(typeof d=="string"){var c=Array.prototype.slice.call(arguments,1);if(c.length===1){c.toString()}return this.data("bootstrapWizard")[d](c)}return this.each(function(f){var e=a(this);if(e.data("bootstrapWizard")){return}var g=new b(e,d);e.data("bootstrapWizard",g);g.fixNavigationButtons()})};a.fn.bootstrapWizard.defaults={withVisible:true,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);